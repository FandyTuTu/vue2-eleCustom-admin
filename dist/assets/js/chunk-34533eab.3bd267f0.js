(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34533eab"],{"2bea":function(e,t,a){"use strict";var r=a("f134"),s=a.n(r);s.a},"63fc":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"userInfo"}},[a("div",{staticClass:"com-con"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{staticClass:"w300",attrs:{disabled:""},model:{value:e.ruleForm.userName,callback:function(t){e.$set(e.ruleForm,"userName",t)},expression:"ruleForm.userName"}})],1),a("el-form-item",{attrs:{label:"角色",prop:"roleName"}},[a("el-input",{staticClass:"w300",attrs:{disabled:""},model:{value:e.ruleForm.roleName,callback:function(t){e.$set(e.ruleForm,"roleName",t)},expression:"ruleForm.roleName"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio-group",{model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},[a("el-radio",{attrs:{label:"1"}},[e._v("男")]),a("el-radio",{attrs:{label:"2"}},[e._v("女")])],1)],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{staticClass:"w300",attrs:{maxlength:"11"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),a("el-form-item",{attrs:{label:"用户头像",prop:"avatar"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.ruleForm.avatar?a("img",{staticClass:"avatar",attrs:{src:e.ruleForm.avatar}}):a("i",{staticClass:"el-icon-upload2 avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)],1)])},s=[],o=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("a2e3")),n={name:"userInfo",components:{uploadItem:o["a"]},data:function(){return{ruleForm:{userName:"",roleName:"",sex:"1",phone:"",avatar:""},rules:{userName:[{required:!0,message:"请填写用户名",trigger:"blur"}],roleName:[{required:!0,message:"请填写角色名",trigger:"blur"}],phone:[{required:!0,message:"请填写手机号",trigger:"blur"}]}}},created:function(){var e=this;e.getuserInfo()},methods:{handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},getuserInfo:function(){var e=this;e.$api.common.getuserInfo({}).then((function(t){var a=t.data;if(0===a.code){var r=a.data;Object.assign(e.ruleForm,{userName:r.username,roleName:r.roleName,sex:r.sex,phone:r.phone,avatar:r.avatar})}})).catch((function(e){})).finally((function(e){}))},editUserInfo:function(){var e=this;return new Promise((function(t,a){e.$api.common.editUserInfo({sex:e.ruleForm.sex,phone:e.ruleForm.phone,avatar:e.ruleForm.avatar}).then((function(a){var r=a.data;0===r.code&&e.$message({message:"保存个人资料成功",type:"success"}),t()})).catch((function(e){a()})).finally((function(e){}))}))},submitForm:function(e){var t=this;t.$refs[e].validate((function(e){if(!e)return!1;t.editUserInfo().then((function(e){t.getuserInfo()}))}))},resetForm:function(e){this.$refs[e].resetFields()},uploadAvatar:function(e){}}},i=n,l=(a("2bea"),a("2877")),u=Object(l["a"])(i,r,s,!1,null,"fcde0654",null);t["default"]=u.exports},"71f1":function(e,t,a){},a2e3:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"link_list"},[e._l(e.addForm.linkList,(function(t,r){return a("div",{key:r,staticClass:"imgList"},[a("img",{staticClass:"imgAdd",attrs:{src:t.masterPic,alt:""}}),a("span",{staticClass:"imgTit"},[e._v(e._s(t.title))]),a("div",{staticClass:"more"},[a("div",[a("span",{staticClass:"nPreview",on:{click:function(a){return e.preview_link(t.masterPic)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),a("span",{staticClass:"nDelete",on:{click:function(t){return e.del_link(r)}}},[a("i",{staticClass:"el-icon-delete"})])])])])})),a("div",{staticClass:"nupimg",attrs:{"http-request":e.fileUpload},on:{click:e.add_fn}},[a("div",{staticClass:"add_shopicon"},[a("i",{class:e.addIcon}),a("span",[e._v(e._s(e.addText))])])])],2)])},s=[],o={props:{addText:{type:String,default:"添加内容"},addIcon:{type:String,default:"el-icon-plus"}},data:function(){return{addForm:{}}},methods:{add_fn:function(){this.$emit("send",1111)}}},n=o,i=(a("a4ed"),a("2877")),l=Object(i["a"])(n,r,s,!1,null,"213b251c",null);t["a"]=l.exports},a4ed:function(e,t,a){"use strict";var r=a("71f1"),s=a.n(r);s.a},f134:function(e,t,a){}}]);
//# sourceMappingURL=chunk-34533eab.3bd267f0.js.map